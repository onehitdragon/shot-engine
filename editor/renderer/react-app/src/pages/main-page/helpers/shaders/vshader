uniform mat4 u_MvpMatrix;
attribute vec4 a_Position;
attribute vec3 a_Normal;
uniform mat4 u_LocalModelMatrix;
uniform vec4 u_LightDirection;
uniform vec4 u_LightColor;
attribute vec4 a_Color;
varying vec4 v_Color;
void main(){
    gl_Position = u_MvpMatrix * a_Position;
    vec3 n = normalize(a_Normal);
    vec3 l = normalize(vec3(u_LocalModelMatrix * u_LightDirection)); // u_LightDirection to local
    v_Color = a_Color * u_LightColor * max(dot(n, l), 0.0);
    v_Color.a = 1.0;
    v_Color = a_Color;
}